if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-editor-queue/gallery-sm-editor-queue.js']) {
   __coverage__['build/gallery-sm-editor-queue/gallery-sm-editor-queue.js'] = {"path":"build/gallery-sm-editor-queue/gallery-sm-editor-queue.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":35},"end":{"line":1,"column":54}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":1},"end":{"line":21,"column":12}}},"3":{"name":"(anonymous_3)","line":59,"loc":{"start":{"line":59,"column":17},"end":{"line":59,"column":29}}},"4":{"name":"(anonymous_4)","line":68,"loc":{"start":{"line":68,"column":16},"end":{"line":68,"column":28}}},"5":{"name":"(anonymous_5)","line":81,"loc":{"start":{"line":81,"column":24},"end":{"line":81,"column":35}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":24},"end":{"line":102,"column":35}}},"7":{"name":"(anonymous_7)","line":113,"loc":{"start":{"line":113,"column":24},"end":{"line":113,"column":35}}},"8":{"name":"(anonymous_8)","line":127,"loc":{"start":{"line":127,"column":24},"end":{"line":127,"column":35}}},"9":{"name":"(anonymous_9)","line":136,"loc":{"start":{"line":136,"column":29},"end":{"line":136,"column":50}}},"10":{"name":"(anonymous_10)","line":150,"loc":{"start":{"line":150,"column":19},"end":{"line":150,"column":41}}},"11":{"name":"(anonymous_11)","line":175,"loc":{"start":{"line":175,"column":17},"end":{"line":175,"column":29}}},"12":{"name":"(anonymous_12)","line":204,"loc":{"start":{"line":204,"column":27},"end":{"line":204,"column":50}}},"13":{"name":"(anonymous_13)","line":229,"loc":{"start":{"line":229,"column":25},"end":{"line":229,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":248,"column":84}},"2":{"start":{"line":21,"column":0},"end":{"line":245,"column":5}},"3":{"start":{"line":23,"column":0},"end":{"line":241,"column":3}},"4":{"start":{"line":60,"column":8},"end":{"line":62,"column":9}},"5":{"start":{"line":61,"column":12},"end":{"line":61,"column":80}},"6":{"start":{"line":64,"column":8},"end":{"line":64,"column":34}},"7":{"start":{"line":69,"column":8},"end":{"line":69,"column":34}},"8":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"9":{"start":{"line":83,"column":12},"end":{"line":83,"column":19}},"10":{"start":{"line":86,"column":8},"end":{"line":86,"column":46}},"11":{"start":{"line":88,"column":8},"end":{"line":92,"column":10}},"12":{"start":{"line":103,"column":8},"end":{"line":103,"column":34}},"13":{"start":{"line":114,"column":8},"end":{"line":117,"column":9}},"14":{"start":{"line":115,"column":12},"end":{"line":115,"column":58}},"15":{"start":{"line":116,"column":12},"end":{"line":116,"column":37}},"16":{"start":{"line":128,"column":8},"end":{"line":130,"column":9}},"17":{"start":{"line":129,"column":12},"end":{"line":129,"column":19}},"18":{"start":{"line":134,"column":8},"end":{"line":134,"column":48}},"19":{"start":{"line":136,"column":8},"end":{"line":138,"column":17}},"20":{"start":{"line":137,"column":12},"end":{"line":137,"column":37}},"21":{"start":{"line":140,"column":8},"end":{"line":140,"column":34}},"22":{"start":{"line":151,"column":8},"end":{"line":151,"column":42}},"23":{"start":{"line":153,"column":8},"end":{"line":155,"column":9}},"24":{"start":{"line":154,"column":12},"end":{"line":154,"column":36}},"25":{"start":{"line":157,"column":8},"end":{"line":159,"column":9}},"26":{"start":{"line":158,"column":12},"end":{"line":158,"column":72}},"27":{"start":{"line":161,"column":8},"end":{"line":161,"column":41}},"28":{"start":{"line":163,"column":8},"end":{"line":163,"column":21}},"29":{"start":{"line":176,"column":8},"end":{"line":178,"column":17}},"30":{"start":{"line":180,"column":8},"end":{"line":192,"column":9}},"31":{"start":{"line":181,"column":12},"end":{"line":181,"column":31}},"32":{"start":{"line":183,"column":12},"end":{"line":183,"column":84}},"33":{"start":{"line":185,"column":12},"end":{"line":185,"column":53}},"34":{"start":{"line":187,"column":12},"end":{"line":187,"column":38}},"35":{"start":{"line":189,"column":12},"end":{"line":189,"column":73}},"36":{"start":{"line":191,"column":12},"end":{"line":191,"column":38}},"37":{"start":{"line":205,"column":8},"end":{"line":206,"column":23}},"38":{"start":{"line":208,"column":8},"end":{"line":218,"column":9}},"39":{"start":{"line":209,"column":12},"end":{"line":209,"column":43}},"40":{"start":{"line":211,"column":12},"end":{"line":215,"column":13}},"41":{"start":{"line":212,"column":16},"end":{"line":212,"column":54}},"42":{"start":{"line":213,"column":16},"end":{"line":213,"column":53}},"43":{"start":{"line":214,"column":16},"end":{"line":214,"column":76}},"44":{"start":{"line":217,"column":12},"end":{"line":217,"column":38}},"45":{"start":{"line":230,"column":8},"end":{"line":231,"column":48}},"46":{"start":{"line":233,"column":8},"end":{"line":239,"column":9}},"47":{"start":{"line":234,"column":12},"end":{"line":236,"column":13}},"48":{"start":{"line":235,"column":16},"end":{"line":235,"column":53}},"49":{"start":{"line":238,"column":12},"end":{"line":238,"column":71}},"50":{"start":{"line":243,"column":0},"end":{"line":243,"column":42}}},"branchMap":{"1":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":8}},{"start":{"line":60,"column":8},"end":{"line":60,"column":8}}]},"2":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"3":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"4":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"5":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":8},"end":{"line":153,"column":8}},{"start":{"line":153,"column":8},"end":{"line":153,"column":8}}]},"6":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":8},"end":{"line":157,"column":8}},{"start":{"line":157,"column":8},"end":{"line":157,"column":8}}]},"7":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":12},"end":{"line":157,"column":25}},{"start":{"line":157,"column":29},"end":{"line":157,"column":64}}]},"8":{"line":158,"type":"cond-expr","locations":[{"start":{"line":158,"column":47},"end":{"line":158,"column":49}},{"start":{"line":158,"column":52},"end":{"line":158,"column":71}}]},"9":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":8},"end":{"line":180,"column":8}},{"start":{"line":180,"column":8},"end":{"line":180,"column":8}}]},"10":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":12},"end":{"line":180,"column":40}},{"start":{"line":180,"column":44},"end":{"line":180,"column":62}}]},"11":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":8},"end":{"line":208,"column":8}},{"start":{"line":208,"column":8},"end":{"line":208,"column":8}}]},"12":{"line":208,"type":"binary-expr","locations":[{"start":{"line":208,"column":12},"end":{"line":208,"column":20}},{"start":{"line":208,"column":24},"end":{"line":208,"column":49}}]},"13":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":12},"end":{"line":211,"column":12}},{"start":{"line":211,"column":12},"end":{"line":211,"column":12}}]},"14":{"line":211,"type":"binary-expr","locations":[{"start":{"line":211,"column":16},"end":{"line":211,"column":21}},{"start":{"line":211,"column":25},"end":{"line":211,"column":44}}]},"15":{"line":230,"type":"binary-expr","locations":[{"start":{"line":230,"column":19},"end":{"line":230,"column":37}},{"start":{"line":230,"column":41},"end":{"line":230,"column":65}}]},"16":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":8},"end":{"line":233,"column":8}},{"start":{"line":233,"column":8},"end":{"line":233,"column":8}}]},"17":{"line":233,"type":"binary-expr","locations":[{"start":{"line":233,"column":12},"end":{"line":233,"column":20}},{"start":{"line":233,"column":24},"end":{"line":233,"column":44}}]},"18":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":12},"end":{"line":234,"column":12}},{"start":{"line":234,"column":12},"end":{"line":234,"column":12}}]}},"code":["(function () { YUI.add('gallery-sm-editor-queue', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Editor.Queue` extension.","","@module gallery-sm-editor","@submodule gallery-sm-editor-queue","**/","","/**","Extension for `Editor.Base` that queues commands","","@class Editor.Queue","@constructor","@extends Base","@extensionfor Editor.Base","**/","","(function() {","","var EditorQueue = Y.Base.create('editorStyle', Y.Base, [], {","    // -- Public Properties ----------------------------------------------------","","    /**","    Key commands related to queue functionality.","","    @property {Object} queueKeyCommands","    **/","    queueKeyCommands: {","        'down'     : {fn: '_clearCommandQueue', allowDefault: true},","        'end'      : {fn: '_clearCommandQueue', allowDefault: true},","        'esc'      : {fn: '_clearCommandQueue', allowDefault: true},","        'home'     : {fn: '_clearCommandQueue', allowDefault: true},","        'left'     : {fn: '_clearCommandQueue', allowDefault: true},","        'pgdown'   : {fn: '_clearCommandQueue', allowDefault: true},","        'pgup'     : {fn: '_clearCommandQueue', allowDefault: true},","        'right'    : {fn: '_clearCommandQueue', allowDefault: true},","        'tab'      : {fn: '_clearCommandQueue', allowDefault: true},","        'up'       : {fn: '_clearCommandQueue', allowDefault: true}","    },","","","    // -- Protected Properties -------------------------------------------------","","    /**","    Hash of commands queued for execution on the next keypress.","","    Workaround for webkit bug where it wont place a caret in an empty node","    or between nodes.","","    @property {Object} _commandQueue","    **/","","","    // -- Lifecycle ------------------------------------------------------------","","    initializer: function () {","        if (this.keyCommands) {","            this.keyCommands = Y.merge(this.keyCommands, this.queueKeyCommands);","        }","","        this._attachQueueEvents();","    },","","","    destructor: function () {","        this._detachQueueEvents();","    },","","","    // -- Protected Methods ----------------------------------------------------","","    /**","    Attaches queue events.","","    @method _attachQueueEvents","    @protected","    **/","    _attachQueueEvents: function() {","        if (this._queueEvents) {","            return;","        }","","        var container = this.get('container');","","        this._queueEvents = [","            container.delegate('keypress', this._onKeyPress, this.selectors.input, this),","            Y.Do.before(this._queueDoBeforeCommand, this, 'command', this),","            Y.Do.before(this._queueDoBeforeQuery, this, 'query', this)","        ];","    },","","","    /**","    Clears the command queue","","    @method _clearCommandQueue","    @protected","    **/","    _clearCommandQueue: function() {","        this._commandQueue = null;","    },","","","    /**","    Detaches queue events.","","    @method _detachQueueEvents","    @protected","    **/","    _detachQueueEvents: function() {","        if (this._queueEvents) {","            new Y.EventHandle(this._queueEvents).detach();","            this._queueEvents = null;","        }","    },","","","    /**","    Executes all commands on the command queue","","    @method _flushCommandQueue","    @protected","    **/","    _flushCommandQueue: function() {","        if (!this._commandQueue) {","            return;","        }","","        // need to create a copy because the commandQueue","        // will be flushed after the first command is executed","        var queue = Y.merge(this._commandQueue);","","        Y.Object.each(queue, function(value, cmd) {","            this.command(cmd, value);","        }, this);","","        this._clearCommandQueue();","    },","","","    /**","    Adds a command to the queue","","    @method _queueCommand","    @protected","    **/","    _queueCommand: function(name, value) {","        var command = this.commands[name];","","        if (!this._commandQueue) {","            this._commandQueue = {};","        }","","        if (command.style && Y.Lang.isValue(command.style.value)) {","            value = this._commandQueue[name] ? '' : command.style.value;","        }","","        this._commandQueue[name] = value;","","        return value;","    },","","","    // -- Protected Event Handlers ---------------------------------------------","","    /**","    Handles `keypress` events on the editor","","    @param {EventFacade} e","    @protected","    **/","    _onKeyPress: function(e) {","        var selection = this.selection,","            range = selection.range(),","            node;","","        if (range.shrink().isCollapsed() && this._commandQueue) {","            e.preventDefault();","","            node = range.insertNode(Y.Node.create(String.fromCharCode(e.charCode)));","","            selection.select(range.selectNode(node));","","            this._flushCommandQueue();","","            selection.select(range.selectNode(node).shrink().collapse());","        } else {","            this._clearCommandQueue();","        }","    },","","","    /**","    Wrapper for `Editor.Base#_execCommand()`.","","    @method _queueBeforeExecStyleCommand","    @param {String} name Command name.","    @param {Boolean|String} value Command value.","    @protected","    **/","    _queueDoBeforeCommand: function (name, value) {","        var styleCmd = this.styleCommands[name],","            range, ret;","","        if (styleCmd && 'block' !== styleCmd.type) {","            range = this.selection.range();","","            if (range && range.isCollapsed()) {","                ret = this._queueCommand(name, value);","                this._updateSelection({force: true});","                return new Y.Do.Halt('Editor.Queue prevented command', ret);","            }","        } else {","            this._clearCommandQueue();","        }","    },","","","    /**","    Wrapper for `Editor.Base#_queryCommandValue()`.","","    @method _queueDoBeforeQueryCommandValue","    @param {String} name Command name.","    @protected","    **/","    _queueDoBeforeQuery: function (name) {","        var qCmd = this._commandQueue && this._commandQueue[name],","            styleCmd = this.styleCommands[name];","","        if (styleCmd && Y.Lang.isValue(qCmd)) { // because qCmd could be ''","            if (Y.Lang.isValue(styleCmd.style.value)) {","                qCmd = qCmd === styleCmd.style.value;","            }","","            return new Y.Do.Halt('Editor.Queue prevented query', qCmd);","        }","    }","});","","Y.namespace('Editor').Queue = EditorQueue;","","}());","","","}, '@VERSION@', {\"requires\": [\"gallery-sm-editor-base\", \"gallery-sm-editor-keys\"]});","","}());"]};
}
var __cov_0kTiGpmbPcV73rQ1B0OPcw = __coverage__['build/gallery-sm-editor-queue/gallery-sm-editor-queue.js'];
__cov_0kTiGpmbPcV73rQ1B0OPcw.s['1']++;YUI.add('gallery-sm-editor-queue',function(Y,NAME){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['1']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['2']++;(function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['2']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['3']++;var EditorQueue=Y.Base.create('editorStyle',Y.Base,[],{queueKeyCommands:{'down':{fn:'_clearCommandQueue',allowDefault:true},'end':{fn:'_clearCommandQueue',allowDefault:true},'esc':{fn:'_clearCommandQueue',allowDefault:true},'home':{fn:'_clearCommandQueue',allowDefault:true},'left':{fn:'_clearCommandQueue',allowDefault:true},'pgdown':{fn:'_clearCommandQueue',allowDefault:true},'pgup':{fn:'_clearCommandQueue',allowDefault:true},'right':{fn:'_clearCommandQueue',allowDefault:true},'tab':{fn:'_clearCommandQueue',allowDefault:true},'up':{fn:'_clearCommandQueue',allowDefault:true}},initializer:function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['3']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['4']++;if(this.keyCommands){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['1'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['5']++;this.keyCommands=Y.merge(this.keyCommands,this.queueKeyCommands);}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['1'][1]++;}__cov_0kTiGpmbPcV73rQ1B0OPcw.s['6']++;this._attachQueueEvents();},destructor:function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['4']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['7']++;this._detachQueueEvents();},_attachQueueEvents:function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['5']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['8']++;if(this._queueEvents){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['2'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['9']++;return;}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['2'][1]++;}__cov_0kTiGpmbPcV73rQ1B0OPcw.s['10']++;var container=this.get('container');__cov_0kTiGpmbPcV73rQ1B0OPcw.s['11']++;this._queueEvents=[container.delegate('keypress',this._onKeyPress,this.selectors.input,this),Y.Do.before(this._queueDoBeforeCommand,this,'command',this),Y.Do.before(this._queueDoBeforeQuery,this,'query',this)];},_clearCommandQueue:function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['6']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['12']++;this._commandQueue=null;},_detachQueueEvents:function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['7']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['13']++;if(this._queueEvents){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['3'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['14']++;new Y.EventHandle(this._queueEvents).detach();__cov_0kTiGpmbPcV73rQ1B0OPcw.s['15']++;this._queueEvents=null;}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['3'][1]++;}},_flushCommandQueue:function(){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['8']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['16']++;if(!this._commandQueue){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['4'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['17']++;return;}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['4'][1]++;}__cov_0kTiGpmbPcV73rQ1B0OPcw.s['18']++;var queue=Y.merge(this._commandQueue);__cov_0kTiGpmbPcV73rQ1B0OPcw.s['19']++;Y.Object.each(queue,function(value,cmd){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['9']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['20']++;this.command(cmd,value);},this);__cov_0kTiGpmbPcV73rQ1B0OPcw.s['21']++;this._clearCommandQueue();},_queueCommand:function(name,value){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['10']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['22']++;var command=this.commands[name];__cov_0kTiGpmbPcV73rQ1B0OPcw.s['23']++;if(!this._commandQueue){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['5'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['24']++;this._commandQueue={};}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['5'][1]++;}__cov_0kTiGpmbPcV73rQ1B0OPcw.s['25']++;if((__cov_0kTiGpmbPcV73rQ1B0OPcw.b['7'][0]++,command.style)&&(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['7'][1]++,Y.Lang.isValue(command.style.value))){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['6'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['26']++;value=this._commandQueue[name]?(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['8'][0]++,''):(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['8'][1]++,command.style.value);}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['6'][1]++;}__cov_0kTiGpmbPcV73rQ1B0OPcw.s['27']++;this._commandQueue[name]=value;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['28']++;return value;},_onKeyPress:function(e){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['11']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['29']++;var selection=this.selection,range=selection.range(),node;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['30']++;if((__cov_0kTiGpmbPcV73rQ1B0OPcw.b['10'][0]++,range.shrink().isCollapsed())&&(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['10'][1]++,this._commandQueue)){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['9'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['31']++;e.preventDefault();__cov_0kTiGpmbPcV73rQ1B0OPcw.s['32']++;node=range.insertNode(Y.Node.create(String.fromCharCode(e.charCode)));__cov_0kTiGpmbPcV73rQ1B0OPcw.s['33']++;selection.select(range.selectNode(node));__cov_0kTiGpmbPcV73rQ1B0OPcw.s['34']++;this._flushCommandQueue();__cov_0kTiGpmbPcV73rQ1B0OPcw.s['35']++;selection.select(range.selectNode(node).shrink().collapse());}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['9'][1]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['36']++;this._clearCommandQueue();}},_queueDoBeforeCommand:function(name,value){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['12']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['37']++;var styleCmd=this.styleCommands[name],range,ret;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['38']++;if((__cov_0kTiGpmbPcV73rQ1B0OPcw.b['12'][0]++,styleCmd)&&(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['12'][1]++,'block'!==styleCmd.type)){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['11'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['39']++;range=this.selection.range();__cov_0kTiGpmbPcV73rQ1B0OPcw.s['40']++;if((__cov_0kTiGpmbPcV73rQ1B0OPcw.b['14'][0]++,range)&&(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['14'][1]++,range.isCollapsed())){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['13'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['41']++;ret=this._queueCommand(name,value);__cov_0kTiGpmbPcV73rQ1B0OPcw.s['42']++;this._updateSelection({force:true});__cov_0kTiGpmbPcV73rQ1B0OPcw.s['43']++;return new Y.Do.Halt('Editor.Queue prevented command',ret);}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['13'][1]++;}}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['11'][1]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['44']++;this._clearCommandQueue();}},_queueDoBeforeQuery:function(name){__cov_0kTiGpmbPcV73rQ1B0OPcw.f['13']++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['45']++;var qCmd=(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['15'][0]++,this._commandQueue)&&(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['15'][1]++,this._commandQueue[name]),styleCmd=this.styleCommands[name];__cov_0kTiGpmbPcV73rQ1B0OPcw.s['46']++;if((__cov_0kTiGpmbPcV73rQ1B0OPcw.b['17'][0]++,styleCmd)&&(__cov_0kTiGpmbPcV73rQ1B0OPcw.b['17'][1]++,Y.Lang.isValue(qCmd))){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['16'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['47']++;if(Y.Lang.isValue(styleCmd.style.value)){__cov_0kTiGpmbPcV73rQ1B0OPcw.b['18'][0]++;__cov_0kTiGpmbPcV73rQ1B0OPcw.s['48']++;qCmd=qCmd===styleCmd.style.value;}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['18'][1]++;}__cov_0kTiGpmbPcV73rQ1B0OPcw.s['49']++;return new Y.Do.Halt('Editor.Queue prevented query',qCmd);}else{__cov_0kTiGpmbPcV73rQ1B0OPcw.b['16'][1]++;}}});__cov_0kTiGpmbPcV73rQ1B0OPcw.s['50']++;Y.namespace('Editor').Queue=EditorQueue;}());},'@VERSION@',{'requires':['gallery-sm-editor-base','gallery-sm-editor-keys']});
