if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-editor-dom/gallery-sm-editor-dom.js']) {
   __coverage__['build/gallery-sm-editor-dom/gallery-sm-editor-dom.js'] = {"path":"build/gallery-sm-editor-dom/gallery-sm-editor-dom.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0],"25":[0,0],"26":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":52}}},"2":{"name":"(anonymous_2)","line":35,"loc":{"start":{"line":35,"column":23},"end":{"line":35,"column":59}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":40}}},"4":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":31},"end":{"line":71,"column":55}}},"5":{"name":"tagFn","line":74,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":25}}},"6":{"name":"(anonymous_6)","line":101,"loc":{"start":{"line":101,"column":30},"end":{"line":101,"column":66}}},"7":{"name":"(anonymous_7)","line":102,"loc":{"start":{"line":102,"column":30},"end":{"line":102,"column":45}}},"8":{"name":"(anonymous_8)","line":124,"loc":{"start":{"line":124,"column":24},"end":{"line":124,"column":39}}},"9":{"name":"(anonymous_9)","line":141,"loc":{"start":{"line":141,"column":26},"end":{"line":141,"column":41}}},"10":{"name":"(anonymous_10)","line":159,"loc":{"start":{"line":159,"column":24},"end":{"line":159,"column":39}}},"11":{"name":"(anonymous_11)","line":176,"loc":{"start":{"line":176,"column":28},"end":{"line":176,"column":43}}},"12":{"name":"(anonymous_12)","line":191,"loc":{"start":{"line":191,"column":23},"end":{"line":191,"column":38}}},"13":{"name":"(anonymous_13)","line":209,"loc":{"start":{"line":209,"column":22},"end":{"line":209,"column":37}}},"14":{"name":"(anonymous_14)","line":227,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":54}}},"15":{"name":"(anonymous_15)","line":246,"loc":{"start":{"line":246,"column":18},"end":{"line":246,"column":41}}},"16":{"name":"(anonymous_16)","line":281,"loc":{"start":{"line":281,"column":19},"end":{"line":281,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":300,"column":60}},"2":{"start":{"line":18,"column":0},"end":{"line":18,"column":19}},"3":{"start":{"line":20,"column":0},"end":{"line":20,"column":55}},"4":{"start":{"line":35,"column":0},"end":{"line":56,"column":2}},"5":{"start":{"line":36,"column":4},"end":{"line":38,"column":49}},"6":{"start":{"line":40,"column":4},"end":{"line":40,"column":23}},"7":{"start":{"line":41,"column":4},"end":{"line":41,"column":19}},"8":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"9":{"start":{"line":44,"column":8},"end":{"line":44,"column":15}},"10":{"start":{"line":47,"column":4},"end":{"line":53,"column":7}},"11":{"start":{"line":48,"column":8},"end":{"line":48,"column":77}},"12":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"13":{"start":{"line":51,"column":12},"end":{"line":51,"column":37}},"14":{"start":{"line":55,"column":4},"end":{"line":55,"column":28}},"15":{"start":{"line":71,"column":0},"end":{"line":87,"column":2}},"16":{"start":{"line":72,"column":4},"end":{"line":72,"column":11}},"17":{"start":{"line":74,"column":4},"end":{"line":77,"column":5}},"18":{"start":{"line":75,"column":8},"end":{"line":75,"column":42}},"19":{"start":{"line":76,"column":8},"end":{"line":76,"column":60}},"20":{"start":{"line":79,"column":4},"end":{"line":84,"column":5}},"21":{"start":{"line":80,"column":8},"end":{"line":80,"column":21}},"22":{"start":{"line":81,"column":11},"end":{"line":84,"column":5}},"23":{"start":{"line":82,"column":8},"end":{"line":82,"column":40}},"24":{"start":{"line":83,"column":8},"end":{"line":83,"column":19}},"25":{"start":{"line":86,"column":4},"end":{"line":86,"column":62}},"26":{"start":{"line":101,"column":0},"end":{"line":112,"column":2}},"27":{"start":{"line":102,"column":4},"end":{"line":111,"column":35}},"28":{"start":{"line":103,"column":8},"end":{"line":105,"column":9}},"29":{"start":{"line":104,"column":12},"end":{"line":104,"column":25}},"30":{"start":{"line":110,"column":8},"end":{"line":110,"column":44}},"31":{"start":{"line":124,"column":0},"end":{"line":130,"column":2}},"32":{"start":{"line":125,"column":4},"end":{"line":125,"column":23}},"33":{"start":{"line":129,"column":4},"end":{"line":129,"column":75}},"34":{"start":{"line":141,"column":0},"end":{"line":145,"column":2}},"35":{"start":{"line":142,"column":4},"end":{"line":142,"column":23}},"36":{"start":{"line":144,"column":4},"end":{"line":144,"column":51}},"37":{"start":{"line":159,"column":0},"end":{"line":165,"column":2}},"38":{"start":{"line":160,"column":4},"end":{"line":160,"column":23}},"39":{"start":{"line":162,"column":4},"end":{"line":162,"column":44}},"40":{"start":{"line":164,"column":4},"end":{"line":164,"column":36}},"41":{"start":{"line":176,"column":0},"end":{"line":180,"column":2}},"42":{"start":{"line":177,"column":4},"end":{"line":177,"column":23}},"43":{"start":{"line":179,"column":4},"end":{"line":179,"column":55}},"44":{"start":{"line":191,"column":0},"end":{"line":195,"column":2}},"45":{"start":{"line":192,"column":4},"end":{"line":192,"column":23}},"46":{"start":{"line":194,"column":4},"end":{"line":194,"column":51}},"47":{"start":{"line":209,"column":0},"end":{"line":213,"column":2}},"48":{"start":{"line":210,"column":4},"end":{"line":210,"column":23}},"49":{"start":{"line":212,"column":4},"end":{"line":212,"column":63}},"50":{"start":{"line":227,"column":0},"end":{"line":231,"column":2}},"51":{"start":{"line":228,"column":4},"end":{"line":228,"column":44}},"52":{"start":{"line":230,"column":4},"end":{"line":230,"column":43}},"53":{"start":{"line":246,"column":0},"end":{"line":270,"column":2}},"54":{"start":{"line":247,"column":4},"end":{"line":248,"column":18}},"55":{"start":{"line":250,"column":4},"end":{"line":250,"column":23}},"56":{"start":{"line":252,"column":4},"end":{"line":256,"column":5}},"57":{"start":{"line":253,"column":8},"end":{"line":253,"column":44}},"58":{"start":{"line":255,"column":8},"end":{"line":255,"column":38}},"59":{"start":{"line":258,"column":4},"end":{"line":260,"column":5}},"60":{"start":{"line":259,"column":8},"end":{"line":259,"column":20}},"61":{"start":{"line":262,"column":4},"end":{"line":269,"column":5}},"62":{"start":{"line":263,"column":8},"end":{"line":263,"column":51}},"63":{"start":{"line":265,"column":8},"end":{"line":265,"column":76}},"64":{"start":{"line":266,"column":8},"end":{"line":266,"column":40}},"65":{"start":{"line":268,"column":8},"end":{"line":268,"column":25}},"66":{"start":{"line":281,"column":0},"end":{"line":294,"column":2}},"67":{"start":{"line":282,"column":4},"end":{"line":282,"column":34}},"68":{"start":{"line":284,"column":4},"end":{"line":284,"column":47}},"69":{"start":{"line":285,"column":4},"end":{"line":285,"column":44}},"70":{"start":{"line":287,"column":4},"end":{"line":287,"column":23}},"71":{"start":{"line":289,"column":4},"end":{"line":289,"column":26}},"72":{"start":{"line":290,"column":4},"end":{"line":290,"column":31}},"73":{"start":{"line":291,"column":4},"end":{"line":291,"column":57}},"74":{"start":{"line":293,"column":4},"end":{"line":293,"column":17}},"75":{"start":{"line":297,"column":0},"end":{"line":297,"column":38}}},"branchMap":{"1":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":19},"end":{"line":37,"column":26}},{"start":{"line":37,"column":30},"end":{"line":37,"column":46}}]},"2":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":20},"end":{"line":38,"column":27}},{"start":{"line":38,"column":31},"end":{"line":38,"column":48}}]},"3":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]},"4":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":38}},{"start":{"line":43,"column":42},"end":{"line":43,"column":70}}]},"5":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":32},"end":{"line":48,"column":54}},{"start":{"line":48,"column":57},"end":{"line":48,"column":76}}]},"6":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"7":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":25}},{"start":{"line":50,"column":30},"end":{"line":50,"column":39}},{"start":{"line":50,"column":43},"end":{"line":50,"column":70}}]},"8":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":15},"end":{"line":76,"column":22}},{"start":{"line":76,"column":26},"end":{"line":76,"column":59}}]},"9":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"10":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":11},"end":{"line":81,"column":11}},{"start":{"line":81,"column":11},"end":{"line":81,"column":11}}]},"11":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":25},"end":{"line":86,"column":27}},{"start":{"line":86,"column":31},"end":{"line":86,"column":54}}]},"12":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":8}},{"start":{"line":103,"column":8},"end":{"line":103,"column":8}}]},"13":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":11},"end":{"line":129,"column":38}},{"start":{"line":129,"column":42},"end":{"line":129,"column":74}}]},"14":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":11},"end":{"line":144,"column":21}},{"start":{"line":144,"column":25},"end":{"line":144,"column":50}}]},"15":{"line":162,"type":"cond-expr","locations":[{"start":{"line":162,"column":22},"end":{"line":162,"column":38}},{"start":{"line":162,"column":41},"end":{"line":162,"column":43}}]},"16":{"line":179,"type":"binary-expr","locations":[{"start":{"line":179,"column":11},"end":{"line":179,"column":15}},{"start":{"line":179,"column":19},"end":{"line":179,"column":54}}]},"17":{"line":194,"type":"binary-expr","locations":[{"start":{"line":194,"column":11},"end":{"line":194,"column":21}},{"start":{"line":194,"column":25},"end":{"line":194,"column":50}}]},"18":{"line":212,"type":"binary-expr","locations":[{"start":{"line":212,"column":11},"end":{"line":212,"column":40}},{"start":{"line":212,"column":44},"end":{"line":212,"column":62}}]},"19":{"line":228,"type":"binary-expr","locations":[{"start":{"line":228,"column":4},"end":{"line":228,"column":15}},{"start":{"line":228,"column":20},"end":{"line":228,"column":42}}]},"20":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":4},"end":{"line":252,"column":4}},{"start":{"line":252,"column":4},"end":{"line":252,"column":4}}]},"21":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":8},"end":{"line":252,"column":14}},{"start":{"line":252,"column":18},"end":{"line":252,"column":30}}]},"22":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":4},"end":{"line":258,"column":4}},{"start":{"line":258,"column":4},"end":{"line":258,"column":4}}]},"23":{"line":258,"type":"binary-expr","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":21}},{"start":{"line":258,"column":25},"end":{"line":258,"column":35}},{"start":{"line":258,"column":39},"end":{"line":258,"column":73}}]},"24":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":4},"end":{"line":262,"column":4}},{"start":{"line":262,"column":4},"end":{"line":262,"column":4}}]},"25":{"line":284,"type":"binary-expr","locations":[{"start":{"line":284,"column":16},"end":{"line":284,"column":38}},{"start":{"line":284,"column":42},"end":{"line":284,"column":46}}]},"26":{"line":285,"type":"binary-expr","locations":[{"start":{"line":285,"column":14},"end":{"line":285,"column":35}},{"start":{"line":285,"column":39},"end":{"line":285,"column":43}}]}},"code":["(function () { YUI.add('gallery-sm-editor-dom', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Editor.DOM` utility class.","","@module gallery-sm-editor","@submodule gallery-sm-editor-dom","**/","","/**","DOM utility methods for `Editor.Base`","","@class Editor.DOM","**/","","var EditorDOM = {};","","EditorDOM.inlineElements = 'b, em, i, span, strong, u';","","/**","Copies styles from a node to another node","@param {HTMLElement|Node} from","@param {HTMLElement|Node} to","@param {Array} styles","@param {Object} [options]","    @param {Boolean} [options.explicit=false] When set to `true` copy only","        explicitly set properties from the source node. IOW, don't use","        computedStyle.","    @param {Boolean} [options.overwrite=false] When set to `true`","        properties from the source node will overwrite the same property","        set on the destination node.","**/","EditorDOM.copyStyles = function(from, to, styles, options) {","    var newStyles = {},","        explicit = options && options.explicit,","        overwrite = options && options.overwrite;","","    from = Y.one(from);","    to = Y.one(to);","","    if (!EditorDOM.isElementNode(from) || !EditorDOM.isElementNode(to)) {","        return;","    }","","    Y.Array.each(styles, function(prop) {","        var newVal = explicit ? from._node.style[prop] : from.getStyle(prop);","","        if ('' !== newVal && (overwrite || '' === to._node.style[prop])) {","            newStyles[prop] = newVal;","        }","    });","","    to.setStyles(newStyles);","};","","","/**","Finds the nearest ancestor element node.","","@param {Node} node","@param {Function|String} [tagName] Optional tagName or function. If a tagName","  is provided, the nearest ancestor with that tag will be returned. If a","  function is provided, it will be used for the comparision. It will receive","  a node as its only argument and should return a boolean. If nothing is","  provided, the nearest ancestor element node will be returned","@return {Node}","@static","**/","EditorDOM.getAncestorElement = function(node, tagName) {","    var fn;","","    function tagFn(node) {","        var nodeTag = node.get('tagName');","        return nodeTag && tagName === nodeTag.toUpperCase();","    }","","    if ('function' === typeof tagName) {","        fn = tagName;","    } else if ('string' === typeof tagName) {","        tagName = tagName.toUpperCase();","        fn = tagFn;","    }","","    return node.ancestor(fn || EditorDOM.isElementNode, true);","};","","","/**","Walks the ancestor tree of a given node until a node that has","the css property set is found","","@method getStyledAncestor","@param {Node} startNode","@param {String} property","@param {Boolean} [self] Whether or not to include `startNode` in the scan","@return {Node} The node having `property` set, or null if no node was found","@static","**/","EditorDOM.getStyledAncestor = function(startNode, property, self) {","    return startNode.ancestor(function(node) {","        if (!EDOM.isElementNode(node)) {","            return false;","        }","","        // don't use node.getStyle() because it will return","        // computedStyle for empty string values like `property: \"\"`","        // https://github.com/yui/yui3/blob/master/src/dom/js/dom-style.js#L106","        return !!node._node.style[property];","    }, self, this.selectors.input);","};","","","/**","Returns true if the given node is a container element, false otherwise","A container element is defined as a non-inline element","","@method isContainer","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is a container element, false otherwise","@static","**/","EditorDOM.isContainer = function(node) {","    node = Y.one(node);","","    // isElementNode() will exclude document fragments, which are valid","    // containers, use !isTextNode() instead","    return !EditorDOM.isTextNode(node) && !EditorDOM.isInlineElement(node);","};","","","/**","Returns true if the given node is an element node, false otherwise","","@method isElementNode","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is an element node, false otherwise","@static","**/","EditorDOM.isElementNode = function(node) {","    node = Y.one(node);","","    return node._node && 1 === node._node.nodeType;","};","","","/**","Returns true if the given node is empty","","Nodes containing only returns, tabs or linefeeds are considered empty","Nodes containing only whitespace are not considered empty","","@method isEmptyNode","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is a empty, false otherwise","@static","**/","EditorDOM.isEmptyNode = function(node) {","    node = Y.one(node);","","    var text = node ? node.get('text') : '';","","    return (/^[^\\S ]*$/).test(text);","};","","","/**","Returns true if the given node is an inline element node, false otherwise","","@method isInlineElement","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is an inline element node, false otherwise","@static","**/","EditorDOM.isInlineElement = function(node) {","    node = Y.one(node);","","    return node && node.test(EditorDOM.inlineElements);","};","","","/**","Returns true if the given node is a text node, false otherwise","","@method isTextNode","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is a text node, false otherwise","@static","**/","EditorDOM.isTextNode = function(node) {","    node = Y.one(node);","","    return node._node && 3 === node._node.nodeType;","};","","","/**","Returns the maximum offset of a given node as determined by the type of node.","","Element nodes will return the number of childNodes","Text nodes will return the length of the text","","@method maxOffset","@param {HTMLNode|Node} node","@return {Number} Number of child nodes or length of text","@static","**/","EditorDOM.maxOffset = function(node) {","    node = Y.one(node);","","    return node.get('childNodes').size() || node.get('length');","};","","","/**","Replace spaces in text with a replacement string.","","Primarily to workaround a webkit issue where it won't put the caret after","trailing whitespace at the end of a node","","@param {String} text The source text that will have spaces replaced","@param {String} [replacement=\\u00a0] The string to use as the replacement for","    spaces in _text_. Defaults to a nonblank space","@returns {String} _text_ with spaces replaced","**/","EditorDOM.replaceSpaces = function(text, replacement) {","    replacement || (replacement = '\\u00a0');","","    return text.replace(/ /g, replacement);","};","","","/**","Splits the given node at the specified offset","","@method split","@param {Node} node The node to split","@param {Number|Node} offset Position to split the node.","    For text nodes this is numerical offset, for element nodes can be a","    a number referencing a childNode of `node` or a childNode reference.","@returns {Node} Node reference to the node created after splitting. It will","    be the nextSibling of `node`. If offset is not valid, the original `node`","    is returned.","**/","EditorDOM.split = function(node, offset) {","    var childNodes = node.get('childNodes'),","        splitNode;","","    node = Y.one(node);","","    if (offset && offset._node) {","        offset = childNodes.indexOf(offset);","    } else {","        offset = parseInt(offset, 10);","    }","","    if (isNaN(offset) || offset < 0 || offset > EditorDOM.maxOffset(node)) {","        return node;","    }","","    if (EditorDOM.isTextNode(node)) {","        return Y.one(node._node.splitText(offset));","    } else {","        splitNode = node.cloneNode(false).append(childNodes.splice(offset));","        node.insert(splitNode, 'after');","","        return splitNode;","    }","};","","","/**","Unwraps a node","","@method unwrap","@param {Node} node","@return {Range} Range containing the unwrapped child nodes","@static","**/","EditorDOM.unwrap = function (node) {","    var range, startNode, endNode;","","    startNode = node.get('firstChild') || node;","    endNode = node.get('lastChild') || node;","","    startNode.unwrap();","","    range = new Y.Range();","    range.startNode(startNode);","    range.endNode(endNode, EditorDOM.maxOffset(endNode));","","    return range;","};","","","Y.namespace('Editor').DOM = EditorDOM;","","","}, '@VERSION@', {\"requires\": [\"gallery-sm-range\", \"node\"]});","","}());"]};
}
var __cov_pMOVZVtN_PEtEbZX$medeA = __coverage__['build/gallery-sm-editor-dom/gallery-sm-editor-dom.js'];
__cov_pMOVZVtN_PEtEbZX$medeA.s['1']++;YUI.add('gallery-sm-editor-dom',function(Y,NAME){__cov_pMOVZVtN_PEtEbZX$medeA.f['1']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['2']++;var EditorDOM={};__cov_pMOVZVtN_PEtEbZX$medeA.s['3']++;EditorDOM.inlineElements='b, em, i, span, strong, u';__cov_pMOVZVtN_PEtEbZX$medeA.s['4']++;EditorDOM.copyStyles=function(from,to,styles,options){__cov_pMOVZVtN_PEtEbZX$medeA.f['2']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['5']++;var newStyles={},explicit=(__cov_pMOVZVtN_PEtEbZX$medeA.b['1'][0]++,options)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['1'][1]++,options.explicit),overwrite=(__cov_pMOVZVtN_PEtEbZX$medeA.b['2'][0]++,options)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['2'][1]++,options.overwrite);__cov_pMOVZVtN_PEtEbZX$medeA.s['6']++;from=Y.one(from);__cov_pMOVZVtN_PEtEbZX$medeA.s['7']++;to=Y.one(to);__cov_pMOVZVtN_PEtEbZX$medeA.s['8']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['4'][0]++,!EditorDOM.isElementNode(from))||(__cov_pMOVZVtN_PEtEbZX$medeA.b['4'][1]++,!EditorDOM.isElementNode(to))){__cov_pMOVZVtN_PEtEbZX$medeA.b['3'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['9']++;return;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['3'][1]++;}__cov_pMOVZVtN_PEtEbZX$medeA.s['10']++;Y.Array.each(styles,function(prop){__cov_pMOVZVtN_PEtEbZX$medeA.f['3']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['11']++;var newVal=explicit?(__cov_pMOVZVtN_PEtEbZX$medeA.b['5'][0]++,from._node.style[prop]):(__cov_pMOVZVtN_PEtEbZX$medeA.b['5'][1]++,from.getStyle(prop));__cov_pMOVZVtN_PEtEbZX$medeA.s['12']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['7'][0]++,''!==newVal)&&((__cov_pMOVZVtN_PEtEbZX$medeA.b['7'][1]++,overwrite)||(__cov_pMOVZVtN_PEtEbZX$medeA.b['7'][2]++,''===to._node.style[prop]))){__cov_pMOVZVtN_PEtEbZX$medeA.b['6'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['13']++;newStyles[prop]=newVal;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['6'][1]++;}});__cov_pMOVZVtN_PEtEbZX$medeA.s['14']++;to.setStyles(newStyles);};__cov_pMOVZVtN_PEtEbZX$medeA.s['15']++;EditorDOM.getAncestorElement=function(node,tagName){__cov_pMOVZVtN_PEtEbZX$medeA.f['4']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['16']++;var fn;__cov_pMOVZVtN_PEtEbZX$medeA.s['17']++;function tagFn(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['5']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['18']++;var nodeTag=node.get('tagName');__cov_pMOVZVtN_PEtEbZX$medeA.s['19']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['8'][0]++,nodeTag)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['8'][1]++,tagName===nodeTag.toUpperCase());}__cov_pMOVZVtN_PEtEbZX$medeA.s['20']++;if('function'===typeof tagName){__cov_pMOVZVtN_PEtEbZX$medeA.b['9'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['21']++;fn=tagName;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['9'][1]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['22']++;if('string'===typeof tagName){__cov_pMOVZVtN_PEtEbZX$medeA.b['10'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['23']++;tagName=tagName.toUpperCase();__cov_pMOVZVtN_PEtEbZX$medeA.s['24']++;fn=tagFn;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['10'][1]++;}}__cov_pMOVZVtN_PEtEbZX$medeA.s['25']++;return node.ancestor((__cov_pMOVZVtN_PEtEbZX$medeA.b['11'][0]++,fn)||(__cov_pMOVZVtN_PEtEbZX$medeA.b['11'][1]++,EditorDOM.isElementNode),true);};__cov_pMOVZVtN_PEtEbZX$medeA.s['26']++;EditorDOM.getStyledAncestor=function(startNode,property,self){__cov_pMOVZVtN_PEtEbZX$medeA.f['6']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['27']++;return startNode.ancestor(function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['7']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['28']++;if(!EDOM.isElementNode(node)){__cov_pMOVZVtN_PEtEbZX$medeA.b['12'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['29']++;return false;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['12'][1]++;}__cov_pMOVZVtN_PEtEbZX$medeA.s['30']++;return!!node._node.style[property];},self,this.selectors.input);};__cov_pMOVZVtN_PEtEbZX$medeA.s['31']++;EditorDOM.isContainer=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['8']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['32']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['33']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['13'][0]++,!EditorDOM.isTextNode(node))&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['13'][1]++,!EditorDOM.isInlineElement(node));};__cov_pMOVZVtN_PEtEbZX$medeA.s['34']++;EditorDOM.isElementNode=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['9']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['35']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['36']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['14'][0]++,node._node)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['14'][1]++,1===node._node.nodeType);};__cov_pMOVZVtN_PEtEbZX$medeA.s['37']++;EditorDOM.isEmptyNode=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['10']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['38']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['39']++;var text=node?(__cov_pMOVZVtN_PEtEbZX$medeA.b['15'][0]++,node.get('text')):(__cov_pMOVZVtN_PEtEbZX$medeA.b['15'][1]++,'');__cov_pMOVZVtN_PEtEbZX$medeA.s['40']++;return/^[^\S ]*$/.test(text);};__cov_pMOVZVtN_PEtEbZX$medeA.s['41']++;EditorDOM.isInlineElement=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['11']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['42']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['43']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['16'][0]++,node)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['16'][1]++,node.test(EditorDOM.inlineElements));};__cov_pMOVZVtN_PEtEbZX$medeA.s['44']++;EditorDOM.isTextNode=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['12']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['45']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['46']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['17'][0]++,node._node)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['17'][1]++,3===node._node.nodeType);};__cov_pMOVZVtN_PEtEbZX$medeA.s['47']++;EditorDOM.maxOffset=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['13']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['48']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['49']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['18'][0]++,node.get('childNodes').size())||(__cov_pMOVZVtN_PEtEbZX$medeA.b['18'][1]++,node.get('length'));};__cov_pMOVZVtN_PEtEbZX$medeA.s['50']++;EditorDOM.replaceSpaces=function(text,replacement){__cov_pMOVZVtN_PEtEbZX$medeA.f['14']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['51']++;(__cov_pMOVZVtN_PEtEbZX$medeA.b['19'][0]++,replacement)||(__cov_pMOVZVtN_PEtEbZX$medeA.b['19'][1]++,replacement='\xa0');__cov_pMOVZVtN_PEtEbZX$medeA.s['52']++;return text.replace(/ /g,replacement);};__cov_pMOVZVtN_PEtEbZX$medeA.s['53']++;EditorDOM.split=function(node,offset){__cov_pMOVZVtN_PEtEbZX$medeA.f['15']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['54']++;var childNodes=node.get('childNodes'),splitNode;__cov_pMOVZVtN_PEtEbZX$medeA.s['55']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['56']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['21'][0]++,offset)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['21'][1]++,offset._node)){__cov_pMOVZVtN_PEtEbZX$medeA.b['20'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['57']++;offset=childNodes.indexOf(offset);}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['20'][1]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['58']++;offset=parseInt(offset,10);}__cov_pMOVZVtN_PEtEbZX$medeA.s['59']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['23'][0]++,isNaN(offset))||(__cov_pMOVZVtN_PEtEbZX$medeA.b['23'][1]++,offset<0)||(__cov_pMOVZVtN_PEtEbZX$medeA.b['23'][2]++,offset>EditorDOM.maxOffset(node))){__cov_pMOVZVtN_PEtEbZX$medeA.b['22'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['60']++;return node;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['22'][1]++;}__cov_pMOVZVtN_PEtEbZX$medeA.s['61']++;if(EditorDOM.isTextNode(node)){__cov_pMOVZVtN_PEtEbZX$medeA.b['24'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['62']++;return Y.one(node._node.splitText(offset));}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['24'][1]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['63']++;splitNode=node.cloneNode(false).append(childNodes.splice(offset));__cov_pMOVZVtN_PEtEbZX$medeA.s['64']++;node.insert(splitNode,'after');__cov_pMOVZVtN_PEtEbZX$medeA.s['65']++;return splitNode;}};__cov_pMOVZVtN_PEtEbZX$medeA.s['66']++;EditorDOM.unwrap=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['16']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['67']++;var range,startNode,endNode;__cov_pMOVZVtN_PEtEbZX$medeA.s['68']++;startNode=(__cov_pMOVZVtN_PEtEbZX$medeA.b['25'][0]++,node.get('firstChild'))||(__cov_pMOVZVtN_PEtEbZX$medeA.b['25'][1]++,node);__cov_pMOVZVtN_PEtEbZX$medeA.s['69']++;endNode=(__cov_pMOVZVtN_PEtEbZX$medeA.b['26'][0]++,node.get('lastChild'))||(__cov_pMOVZVtN_PEtEbZX$medeA.b['26'][1]++,node);__cov_pMOVZVtN_PEtEbZX$medeA.s['70']++;startNode.unwrap();__cov_pMOVZVtN_PEtEbZX$medeA.s['71']++;range=new Y.Range();__cov_pMOVZVtN_PEtEbZX$medeA.s['72']++;range.startNode(startNode);__cov_pMOVZVtN_PEtEbZX$medeA.s['73']++;range.endNode(endNode,EditorDOM.maxOffset(endNode));__cov_pMOVZVtN_PEtEbZX$medeA.s['74']++;return range;};__cov_pMOVZVtN_PEtEbZX$medeA.s['75']++;Y.namespace('Editor').DOM=EditorDOM;},'@VERSION@',{'requires':['gallery-sm-range','node']});
