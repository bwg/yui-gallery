if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js']) {
   __coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js'] = {"path":"build/gallery-sm-editor-style/gallery-sm-editor-style.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0],"34":[0,0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":35},"end":{"line":1,"column":54}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":1},"end":{"line":21,"column":13}}},"3":{"name":"(anonymous_3)","line":163,"loc":{"start":{"line":163,"column":17},"end":{"line":163,"column":29}}},"4":{"name":"(anonymous_4)","line":174,"loc":{"start":{"line":174,"column":42},"end":{"line":174,"column":57}}},"5":{"name":"(anonymous_5)","line":199,"loc":{"start":{"line":199,"column":12},"end":{"line":199,"column":30}}},"6":{"name":"(anonymous_6)","line":233,"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":46}}},"7":{"name":"(anonymous_7)","line":286,"loc":{"start":{"line":286,"column":17},"end":{"line":286,"column":33}}},"8":{"name":"flatten","line":287,"loc":{"start":{"line":287,"column":8},"end":{"line":287,"column":32}}},"9":{"name":"(anonymous_9)","line":290,"loc":{"start":{"line":290,"column":47},"end":{"line":290,"column":63}}},"10":{"name":"(anonymous_10)","line":348,"loc":{"start":{"line":348,"column":14},"end":{"line":348,"column":31}}},"11":{"name":"(anonymous_11)","line":364,"loc":{"start":{"line":364,"column":20},"end":{"line":364,"column":37}}},"12":{"name":"(anonymous_12)","line":386,"loc":{"start":{"line":386,"column":23},"end":{"line":386,"column":39}}},"13":{"name":"(anonymous_13)","line":427,"loc":{"start":{"line":427,"column":18},"end":{"line":427,"column":34}}},"14":{"name":"(anonymous_14)","line":444,"loc":{"start":{"line":444,"column":18},"end":{"line":444,"column":34}}},"15":{"name":"(anonymous_15)","line":459,"loc":{"start":{"line":459,"column":14},"end":{"line":459,"column":31}}},"16":{"name":"(anonymous_16)","line":475,"loc":{"start":{"line":475,"column":24},"end":{"line":475,"column":40}}},"17":{"name":"(anonymous_17)","line":485,"loc":{"start":{"line":485,"column":49},"end":{"line":485,"column":65}}},"18":{"name":"(anonymous_18)","line":524,"loc":{"start":{"line":524,"column":20},"end":{"line":524,"column":35}}},"19":{"name":"(anonymous_19)","line":528,"loc":{"start":{"line":528,"column":21},"end":{"line":528,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":548,"column":3}},"2":{"start":{"line":21,"column":0},"end":{"line":537,"column":5}},"3":{"start":{"line":23,"column":0},"end":{"line":25,"column":32}},"4":{"start":{"line":27,"column":0},"end":{"line":533,"column":3}},"5":{"start":{"line":164,"column":8},"end":{"line":164,"column":67}},"6":{"start":{"line":166,"column":8},"end":{"line":170,"column":9}},"7":{"start":{"line":167,"column":12},"end":{"line":167,"column":55}},"8":{"start":{"line":169,"column":12},"end":{"line":169,"column":48}},"9":{"start":{"line":172,"column":8},"end":{"line":172,"column":34}},"10":{"start":{"line":174,"column":8},"end":{"line":176,"column":17}},"11":{"start":{"line":175,"column":12},"end":{"line":175,"column":58}},"12":{"start":{"line":178,"column":8},"end":{"line":180,"column":9}},"13":{"start":{"line":179,"column":12},"end":{"line":179,"column":80}},"14":{"start":{"line":200,"column":8},"end":{"line":201,"column":17}},"15":{"start":{"line":203,"column":8},"end":{"line":217,"column":9}},"16":{"start":{"line":204,"column":12},"end":{"line":208,"column":13}},"17":{"start":{"line":205,"column":16},"end":{"line":207,"column":17}},"18":{"start":{"line":206,"column":20},"end":{"line":206,"column":69}},"19":{"start":{"line":210,"column":12},"end":{"line":210,"column":46}},"20":{"start":{"line":212,"column":12},"end":{"line":216,"column":13}},"21":{"start":{"line":213,"column":16},"end":{"line":215,"column":17}},"22":{"start":{"line":214,"column":20},"end":{"line":214,"column":53}},"23":{"start":{"line":219,"column":8},"end":{"line":219,"column":23}},"24":{"start":{"line":234,"column":8},"end":{"line":236,"column":30}},"25":{"start":{"line":238,"column":8},"end":{"line":240,"column":9}},"26":{"start":{"line":239,"column":12},"end":{"line":239,"column":19}},"27":{"start":{"line":242,"column":8},"end":{"line":246,"column":9}},"28":{"start":{"line":243,"column":12},"end":{"line":243,"column":63}},"29":{"start":{"line":245,"column":12},"end":{"line":245,"column":52}},"30":{"start":{"line":250,"column":8},"end":{"line":250,"column":71}},"31":{"start":{"line":252,"column":8},"end":{"line":262,"column":9}},"32":{"start":{"line":253,"column":12},"end":{"line":257,"column":13}},"33":{"start":{"line":254,"column":16},"end":{"line":254,"column":27}},"34":{"start":{"line":256,"column":16},"end":{"line":256,"column":44}},"35":{"start":{"line":258,"column":15},"end":{"line":262,"column":9}},"36":{"start":{"line":259,"column":12},"end":{"line":259,"column":49}},"37":{"start":{"line":261,"column":12},"end":{"line":261,"column":23}},"38":{"start":{"line":264,"column":8},"end":{"line":264,"column":59}},"39":{"start":{"line":266,"column":8},"end":{"line":271,"column":9}},"40":{"start":{"line":267,"column":12},"end":{"line":267,"column":48}},"41":{"start":{"line":268,"column":12},"end":{"line":268,"column":75}},"42":{"start":{"line":270,"column":12},"end":{"line":270,"column":50}},"43":{"start":{"line":287,"column":8},"end":{"line":330,"column":9}},"44":{"start":{"line":288,"column":12},"end":{"line":288,"column":59}},"45":{"start":{"line":290,"column":12},"end":{"line":329,"column":21}},"46":{"start":{"line":291,"column":16},"end":{"line":291,"column":31}},"47":{"start":{"line":293,"column":16},"end":{"line":293,"column":35}},"48":{"start":{"line":294,"column":16},"end":{"line":294,"column":52}},"49":{"start":{"line":296,"column":16},"end":{"line":328,"column":17}},"50":{"start":{"line":297,"column":20},"end":{"line":301,"column":21}},"51":{"start":{"line":298,"column":24},"end":{"line":298,"column":45}},"52":{"start":{"line":299,"column":27},"end":{"line":301,"column":21}},"53":{"start":{"line":300,"column":24},"end":{"line":300,"column":53}},"54":{"start":{"line":304,"column":20},"end":{"line":319,"column":21}},"55":{"start":{"line":305,"column":24},"end":{"line":305,"column":55}},"56":{"start":{"line":306,"column":27},"end":{"line":319,"column":21}},"57":{"start":{"line":307,"column":24},"end":{"line":307,"column":57}},"58":{"start":{"line":309,"column":24},"end":{"line":316,"column":25}},"59":{"start":{"line":310,"column":28},"end":{"line":310,"column":71}},"60":{"start":{"line":312,"column":28},"end":{"line":315,"column":31}},"61":{"start":{"line":321,"column":20},"end":{"line":321,"column":45}},"62":{"start":{"line":323,"column":20},"end":{"line":325,"column":21}},"63":{"start":{"line":324,"column":24},"end":{"line":324,"column":42}},"64":{"start":{"line":327,"column":20},"end":{"line":327,"column":47}},"65":{"start":{"line":332,"column":8},"end":{"line":332,"column":69}},"66":{"start":{"line":334,"column":8},"end":{"line":334,"column":33}},"67":{"start":{"line":336,"column":8},"end":{"line":336,"column":20}},"68":{"start":{"line":349,"column":8},"end":{"line":349,"column":67}},"69":{"start":{"line":351,"column":8},"end":{"line":351,"column":53}},"70":{"start":{"line":365,"column":8},"end":{"line":365,"column":39}},"71":{"start":{"line":367,"column":8},"end":{"line":367,"column":23}},"72":{"start":{"line":370,"column":8},"end":{"line":370,"column":92}},"73":{"start":{"line":372,"column":8},"end":{"line":379,"column":9}},"74":{"start":{"line":373,"column":12},"end":{"line":376,"column":13}},"75":{"start":{"line":375,"column":16},"end":{"line":375,"column":51}},"76":{"start":{"line":378,"column":12},"end":{"line":378,"column":49}},"77":{"start":{"line":381,"column":8},"end":{"line":384,"column":42}},"78":{"start":{"line":386,"column":8},"end":{"line":412,"column":17}},"79":{"start":{"line":387,"column":12},"end":{"line":389,"column":13}},"80":{"start":{"line":388,"column":16},"end":{"line":388,"column":23}},"81":{"start":{"line":391,"column":12},"end":{"line":393,"column":13}},"82":{"start":{"line":392,"column":16},"end":{"line":392,"column":74}},"83":{"start":{"line":395,"column":12},"end":{"line":397,"column":13}},"84":{"start":{"line":396,"column":16},"end":{"line":396,"column":53}},"85":{"start":{"line":399,"column":12},"end":{"line":411,"column":13}},"86":{"start":{"line":400,"column":16},"end":{"line":402,"column":17}},"87":{"start":{"line":401,"column":20},"end":{"line":401,"column":80}},"88":{"start":{"line":404,"column":16},"end":{"line":406,"column":17}},"89":{"start":{"line":405,"column":20},"end":{"line":405,"column":61}},"90":{"start":{"line":408,"column":16},"end":{"line":408,"column":56}},"91":{"start":{"line":410,"column":16},"end":{"line":410,"column":72}},"92":{"start":{"line":414,"column":8},"end":{"line":414,"column":42}},"93":{"start":{"line":428,"column":8},"end":{"line":428,"column":27}},"94":{"start":{"line":432,"column":8},"end":{"line":432,"column":118}},"95":{"start":{"line":445,"column":8},"end":{"line":445,"column":27}},"96":{"start":{"line":447,"column":8},"end":{"line":447,"column":75}},"97":{"start":{"line":460,"column":8},"end":{"line":460,"column":54}},"98":{"start":{"line":462,"column":8},"end":{"line":462,"column":66}},"99":{"start":{"line":476,"column":8},"end":{"line":478,"column":50}},"100":{"start":{"line":480,"column":8},"end":{"line":508,"column":9}},"101":{"start":{"line":481,"column":12},"end":{"line":483,"column":13}},"102":{"start":{"line":482,"column":16},"end":{"line":482,"column":42}},"103":{"start":{"line":485,"column":12},"end":{"line":495,"column":15}},"104":{"start":{"line":486,"column":16},"end":{"line":486,"column":26}},"105":{"start":{"line":488,"column":16},"end":{"line":492,"column":17}},"106":{"start":{"line":489,"column":20},"end":{"line":489,"column":66}},"107":{"start":{"line":491,"column":20},"end":{"line":491,"column":69}},"108":{"start":{"line":494,"column":16},"end":{"line":494,"column":41}},"109":{"start":{"line":497,"column":12},"end":{"line":497,"column":44}},"110":{"start":{"line":499,"column":12},"end":{"line":501,"column":13}},"111":{"start":{"line":500,"column":16},"end":{"line":500,"column":34}},"112":{"start":{"line":503,"column":12},"end":{"line":507,"column":13}},"113":{"start":{"line":504,"column":16},"end":{"line":504,"column":55}},"114":{"start":{"line":505,"column":19},"end":{"line":507,"column":13}},"115":{"start":{"line":506,"column":16},"end":{"line":506,"column":29}},"116":{"start":{"line":510,"column":8},"end":{"line":510,"column":21}},"117":{"start":{"line":525,"column":16},"end":{"line":525,"column":41}},"118":{"start":{"line":529,"column":16},"end":{"line":529,"column":40}},"119":{"start":{"line":535,"column":0},"end":{"line":535,"column":42}}},"branchMap":{"1":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":8},"end":{"line":166,"column":8}},{"start":{"line":166,"column":8},"end":{"line":166,"column":8}}]},"2":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":8},"end":{"line":178,"column":8}},{"start":{"line":178,"column":8},"end":{"line":178,"column":8}}]},"3":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":8},"end":{"line":203,"column":8}},{"start":{"line":203,"column":8},"end":{"line":203,"column":8}}]},"4":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":16},"end":{"line":205,"column":16}},{"start":{"line":205,"column":16},"end":{"line":205,"column":16}}]},"5":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":16},"end":{"line":213,"column":16}},{"start":{"line":213,"column":16},"end":{"line":213,"column":16}}]},"6":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":8},"end":{"line":238,"column":8}},{"start":{"line":238,"column":8},"end":{"line":238,"column":8}}]},"7":{"line":238,"type":"binary-expr","locations":[{"start":{"line":238,"column":12},"end":{"line":238,"column":18}},{"start":{"line":238,"column":22},"end":{"line":238,"column":30}},{"start":{"line":238,"column":34},"end":{"line":238,"column":48}}]},"8":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":8},"end":{"line":242,"column":8}},{"start":{"line":242,"column":8},"end":{"line":242,"column":8}}]},"9":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":8},"end":{"line":252,"column":8}},{"start":{"line":252,"column":8},"end":{"line":252,"column":8}}]},"10":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":12},"end":{"line":253,"column":12}},{"start":{"line":253,"column":12},"end":{"line":253,"column":12}}]},"11":{"line":253,"type":"binary-expr","locations":[{"start":{"line":253,"column":16},"end":{"line":253,"column":21}},{"start":{"line":253,"column":25},"end":{"line":253,"column":54}}]},"12":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":15},"end":{"line":258,"column":15}},{"start":{"line":258,"column":15},"end":{"line":258,"column":15}}]},"13":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":20},"end":{"line":259,"column":39}},{"start":{"line":259,"column":43},"end":{"line":259,"column":48}}]},"14":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":8},"end":{"line":266,"column":8}},{"start":{"line":266,"column":8},"end":{"line":266,"column":8}}]},"15":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":16},"end":{"line":296,"column":16}},{"start":{"line":296,"column":16},"end":{"line":296,"column":16}}]},"16":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":20},"end":{"line":297,"column":20}},{"start":{"line":297,"column":20},"end":{"line":297,"column":20}}]},"17":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":27},"end":{"line":299,"column":27}},{"start":{"line":299,"column":27},"end":{"line":299,"column":27}}]},"18":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":20},"end":{"line":304,"column":20}},{"start":{"line":304,"column":20},"end":{"line":304,"column":20}}]},"19":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":27},"end":{"line":306,"column":27}},{"start":{"line":306,"column":27},"end":{"line":306,"column":27}}]},"20":{"line":306,"type":"binary-expr","locations":[{"start":{"line":306,"column":31},"end":{"line":306,"column":61}},{"start":{"line":306,"column":65},"end":{"line":306,"column":86}}]},"21":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":24},"end":{"line":309,"column":24}},{"start":{"line":309,"column":24},"end":{"line":309,"column":24}}]},"22":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":20},"end":{"line":323,"column":20}},{"start":{"line":323,"column":20},"end":{"line":323,"column":20}}]},"23":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":8},"end":{"line":372,"column":8}},{"start":{"line":372,"column":8},"end":{"line":372,"column":8}}]},"24":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":12},"end":{"line":373,"column":12}},{"start":{"line":373,"column":12},"end":{"line":373,"column":12}}]},"25":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":12},"end":{"line":387,"column":12}},{"start":{"line":387,"column":12},"end":{"line":387,"column":12}}]},"26":{"line":391,"type":"if","locations":[{"start":{"line":391,"column":12},"end":{"line":391,"column":12}},{"start":{"line":391,"column":12},"end":{"line":391,"column":12}}]},"27":{"line":391,"type":"binary-expr","locations":[{"start":{"line":391,"column":16},"end":{"line":391,"column":32}},{"start":{"line":391,"column":36},"end":{"line":391,"column":73}}]},"28":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":12},"end":{"line":395,"column":12}},{"start":{"line":395,"column":12},"end":{"line":395,"column":12}}]},"29":{"line":395,"type":"binary-expr","locations":[{"start":{"line":395,"column":16},"end":{"line":395,"column":34}},{"start":{"line":395,"column":38},"end":{"line":395,"column":49}}]},"30":{"line":399,"type":"if","locations":[{"start":{"line":399,"column":12},"end":{"line":399,"column":12}},{"start":{"line":399,"column":12},"end":{"line":399,"column":12}}]},"31":{"line":400,"type":"if","locations":[{"start":{"line":400,"column":16},"end":{"line":400,"column":16}},{"start":{"line":400,"column":16},"end":{"line":400,"column":16}}]},"32":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":16},"end":{"line":404,"column":16}},{"start":{"line":404,"column":16},"end":{"line":404,"column":16}}]},"33":{"line":432,"type":"binary-expr","locations":[{"start":{"line":432,"column":15},"end":{"line":432,"column":37}},{"start":{"line":432,"column":42},"end":{"line":432,"column":87}},{"start":{"line":432,"column":91},"end":{"line":432,"column":116}}]},"34":{"line":447,"type":"binary-expr","locations":[{"start":{"line":447,"column":15},"end":{"line":447,"column":19}},{"start":{"line":447,"column":23},"end":{"line":447,"column":45}},{"start":{"line":447,"column":49},"end":{"line":447,"column":74}}]},"35":{"line":480,"type":"if","locations":[{"start":{"line":480,"column":8},"end":{"line":480,"column":8}},{"start":{"line":480,"column":8},"end":{"line":480,"column":8}}]},"36":{"line":480,"type":"binary-expr","locations":[{"start":{"line":480,"column":12},"end":{"line":480,"column":17}},{"start":{"line":480,"column":21},"end":{"line":480,"column":34}}]},"37":{"line":481,"type":"if","locations":[{"start":{"line":481,"column":12},"end":{"line":481,"column":12}},{"start":{"line":481,"column":12},"end":{"line":481,"column":12}}]},"38":{"line":488,"type":"if","locations":[{"start":{"line":488,"column":16},"end":{"line":488,"column":16}},{"start":{"line":488,"column":16},"end":{"line":488,"column":16}}]},"39":{"line":494,"type":"binary-expr","locations":[{"start":{"line":494,"column":28},"end":{"line":494,"column":33}},{"start":{"line":494,"column":37},"end":{"line":494,"column":39}}]},"40":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":12},"end":{"line":499,"column":12}},{"start":{"line":499,"column":12},"end":{"line":499,"column":12}}]},"41":{"line":503,"type":"if","locations":[{"start":{"line":503,"column":12},"end":{"line":503,"column":12}},{"start":{"line":503,"column":12},"end":{"line":503,"column":12}}]},"42":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":19},"end":{"line":505,"column":19}},{"start":{"line":505,"column":19},"end":{"line":505,"column":19}}]}},"code":["(function () { YUI.add('gallery-sm-editor-style', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Editor.Style` extension.","","@module gallery-sm-editor","@submodule gallery-sm-editor-style","**/","","/**","Extension for `Editor.Base` that normalizes style commands into css properties","","@class Editor.Style","@constructor","@extends Base","@extensionfor Editor.Base","**/","","(function () {","","var doc = Y.config.doc,","    EDOM = Y.Editor.DOM,","    STYLENODE = '<span></span>';","","var EditorStyle = Y.Base.create('editorStyle', Y.Base, [], {","    // -- Public Properties ----------------------------------------------------","","    /**","    Hash of style commands supported by this editor.","","    Names should correspond with valid `execCommand()` command names. Values","    are properties in the following format:","","    @property {Object} styleCommands","        @param {Function|String} commandFn","        @param {Function|String} [queryFn]","        @param {Object} style","            @param {String} style.property The name of the CSS property in","            camelCase form","            @param {String} [style.value] For boolean commands, the `on` value","            of the property. eg. `bold`","    **/","    styleCommands: {","        bold: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontWeight',","                value: 'bold'","            }","        },","","        fontName: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontFamily'","            }","        },","","        fontSize: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontSize'","            }","        },","","        italic: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontStyle',","                value: 'italic'","            }","        },","","        justifyCenter: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: 'center'","            },","            type: 'block'","        },","","        justifyFull: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: 'justify'","            },","            type: 'block'","        },","","        justifyLeft: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: ''","            },","            type: 'block'","        },","","        justifyRight: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: 'right'","            },","            type: 'block'","        },","","        strikeThrough: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textDecoration',","                value: 'line-through'","            }","        },","","        underline: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textDecoration',","                value: 'underline'","            }","        }","    },","","","    /**","    Key commands related to style functionality.","","    @property {Object} styleKeyCommands","    **/","    styleKeyCommands: {","        'ctrl+b': 'bold',","        'ctrl+i': 'italic',","        'ctrl+u': 'underline'","    },","","","    /**","    HTML tags supported by this editor. Unsupported tags will be treated","    as text","","    @property {String} supportedTags","    **/","    styleTags: 'span',","","","    // -- Lifecycle ------------------------------------------------------------","","    initializer: function () {","        this.commands = Y.merge(this.commands, this.styleCommands);","","        if (this.supportedTags) {","            this.supportedTags += ',' + this.styleTags;","        } else {","            this.supportedTags = this.styleTags;","        }","","        this.supportedStyles = [];","","        Y.Object.each(this.styleCommands, function (cmd) {","            this.supportedStyles.push(cmd.style.property);","        }, this);","","        if (this.keyCommands) {","            this.keyCommands = Y.merge(this.keyCommands, this.styleKeyCommands);","        }","    },","","","    // -- Public Methods -------------------------------------------------------","","    /**","    Gets and/or sets the values of multiple editor style commands.","","    When called without an argument, the current values of all supported style","    commands will be returned. When called with a _styles_ object, the specified","    style commands will be set to their given values, and the resulting new","    values will be returned.","","    @method styles","    @param {Object} [styles] Hash of style names and values to set.","    @return {Object} Hash of style names and values that were set, or all styles","        if no _styles_ parameter was specified.","    **/","    styles: function (styles) {","        var results = {},","            name;","","        if (styles) {","            for (name in styles) {","                if (styles.hasOwnProperty(name)) {","                    results[name] = this.command(name, styles[name]);","                }","            }","        } else {","            var commands = this.styleCommands;","","            for (name in commands) {","                if (commands.hasOwnProperty(name)) {","                    results[name] = this.query(name);","                }","            }","        }","","        return results;","    },","","","    // -- Protected Methods ----------------------------------------------------","","    /**","    Executes a `style` command by adding/removing css properties","","    @method _execStyleCommand","    @param {String} name Command name.","    @param {Boolean|String} value Command value.","    @protected","    **/","    _execStyleCommand: function (name, value) {","        var command = this.commands[name],","            range = this.selection.range(),","            styleNodes, style;","","        if (!range || !command || !command.style) {","            return;","        }","","        if ('block' === command.type) {","            styleNodes = this._getNodes(range, this.blockTags);","        } else {","            styleNodes = this._getStyleNodes(range);","        }","","        // use the first node because blah blah","        // dont use getStyle blah blah","        style = styleNodes.item(0)._node.style[command.style.property];","","        if (Y.Lang.isValue(command.style.value)) {","            if (style && style === command.style.value) {","                style = '';","            } else {","                style = command.style.value;","            }","        } else if (value) {","            style = command.style.value || value;","        } else {","            style = '';","        }","","        styleNodes.setStyle(command.style.property, style);","","        if ('block' !== command.type) {","            range.startNode(styleNodes.item(0));","            range.endNode(styleNodes.item(styleNodes.size() - 1), 'after');","","            this.selection.select(range.shrink());","        }","    },","","","    /**","    Reformats html to the proper style","","    TODO: put this in its own extension.  doesnt belong here.","","    <span>blah blah</span>","    @param {HTML} html HTML string to format","    @return {Node} Node instance containing a document fragment with the","        formatted _html_","    @protected","    **/","    _formatHTML: function (html) {","        function flatten (node) {","            var childNodes = node.get('childNodes')._nodes;","","            Y.Array.each(childNodes.reverse(), function (node) {","                var parentNode;","","                node = Y.one(node);","                parentNode = node.get('parentNode');","","                if (EDOM.isTextNode(node)) {","                    if (this._isBlockNode(parentNode)) {","                        node.wrap(STYLENODE);","                    } else if (node.get('previousSibling')) {","                        EDOM.split(parentNode, node);","                    }","                } else {","                    // TODO: replace b, em, i, strong, u nodes with spans","                    if (!node.test(this.supportedTags)) {","                        node.replace(node.get('text'));","                    } else if (!this._isBlockNode(parentNode) && !parentNode.test('a')) {","                        parentNode.insert(node, 'after');","","                        if (!this._isBlockNode(node)) {","                            node.addClass(parentNode.get('className'));","","                            EDOM.copyStyles(parentNode, node, this.supportedStyles, {","                                explicit: true,","                                overwrite: false","                            });","                        }","                    } else {","                        // TODO: clear styles on containers","                    }","","                    flatten.call(this, node);","","                    if (EDOM.isEmptyNode(node)) {","                        node.remove(true);","                    }","","                    node.removeAttribute('id');","                }","            }, this);","        }","","        var frag = Y.one(doc.createDocumentFragment()).setHTML(html);","","        flatten.call(this, frag);","","        return frag;","    },","","","    /**","    Getter for the `html` attribute.","","    @method _getHTML","    @param {HTML} value HTML.","    @return {HTML} HTML.","    @protected","    **/","    _getHTML: function (value) {","        value = Y.Editor.Base.prototype._getHTML.call(this, value);","","        return this.get('formatFn')(value).getHTML();","    },","","","    /**","    Parses inline elements from a given range. Partially selected nodes will","    be split and text nodes will be wrapped in `<span>` tags if necessary.","","    @method _getStyleNodes","    @param {Range} range","    @return {NodeList} NodeList of inline elements within the given `range`","    @protected","    **/","    _getStyleNodes: function (range) {","        var styleNode, styleNodes = [];","","        range.shrink();","","        // see if the range is contained in an existing styleNode","        styleNode = range.parentNode().ancestor(this.styleTags, true, this.selectors.input);","","        if (styleNode) {","            if (range.toString() === styleNode.get('text')) {","                // the entire node is selected, just return the node","                return new Y.NodeList([styleNode]);","            }","        } else {","            styleNode = Y.Node.create(STYLENODE);","        }","","        var startNode = range.startNode(),","            startOffset = range.startOffset(),","            endNode = range.endNode(),","            endOffset = range.endOffset();","","        range.traverse(function (node) {","            if (!EDOM.isTextNode(node)) {","                return;","            }","","            if (endNode === node && endOffset !== EDOM.maxOffset(endNode)) {","                node = EDOM.split(node, endOffset).get('previousSibling');","            }","","            if (startNode === node && startOffset) {","                node = EDOM.split(node, startOffset);","            }","","            if (this._isStyleNode(node.get('parentNode'))) {","                if (node.get('nextSibling')) {","                    EDOM.split(node.get('parentNode'), node.get('nextSibling'));","                }","","                if (node.get('previousSibling')) {","                    EDOM.split(node.get('parentNode'), node);","                }","","                styleNodes.push(node.get('parentNode'));","            } else {","                styleNodes.push(node.wrap(styleNode).get('parentNode'));","            }","        }, this);","","        return new Y.NodeList(styleNodes);","    },","","","    /**","    Returns true if the given node is a container element, false otherwise","    A container element is defined as a non-inline element","","    @method _isBlockNode","    @param {HTMLNode|Node} node","    @return {Boolean} true if the given node is a container element, false otherwise","    @protected","    **/","    _isBlockNode: function (node) {","        node = Y.one(node);","","        // isElementNode() will exclude document fragments, which are valid","        // containers, use !isTextNode() instead","        return !EDOM.isTextNode(node) && (node.get('nodeName') === '#document-fragment' || node.test(this.blockTags));","    },","","","    /**","    Returns true if the given node is an inline element node, false otherwise","","    @method _isStyleNode","    @param {HTMLNode|Node} node","    @return {Boolean} true if the given node is an inline element node, false otherwise","    @protected","    **/","    _isStyleNode: function (node) {","        node = Y.one(node);","","        return node && !EDOM.isTextNode(node) && node.test(this.styleTags);","    },","","","    /**","    Setter for the `html` attribute.","","    @method _setHTML","    @param {HTML} value HTML.","    @return {HTML} HTML.","    @protected","    **/","    _setHTML: function (value) {","        value = this.get('formatFn')(value).getHTML();","","        return Y.Editor.Base.prototype._setHTML.call(this, value);","    },","","","    /**","    Returns the value of a `style` command by querying css properties","","    @method _queryStyleCommand","    @param {String} name Command name.","    @return {Boolean|String} Boolean style commands will return true/false, other commands will","    return the property value, or null if the property doesnt exist.","    @protected","    **/","    _queryStyleCommand: function (name) {","        var command = this.commands[name],","            range = this.selection.range().clone(),","            selector = 'span', values = [], value;","","        if (range && command.style) {","            if ('block' === command.type) {","                selector = this.blockTags;","            }","","            this._getNodes(range, selector).each(function (node) {","                var value;","","                if (command.style.computed) {","                    value = node.getStyle(command.style.property);","                } else {","                    value = node._node.style[command.style.property];","                }","","                values.push(value || '');","            });","","            values = Y.Array.dedupe(values);","","            if (1 === values.length) {","                value = values[0];","            }","","            if (Y.Lang.isValue(command.style.value)) {","                value = (value == command.style.value);","            } else if ('' === value) {","                value = null;","            }","        }","","        return value;","    }","","    // -- Protected Event Handlers ---------------------------------------------","","}, {","    ATTRS: {","        /**","        Function for formatting editor html","","        One day allow custom formatting. Today is not that day.","        **/","        formatFn: {","            readOnly: true,","            setter: function (val) {","                return Y.bind(val, this);","            },","            validator: Y.Lang.isFunction,","            valueFn: function () {","                return this._formatHTML;","            }","        }","    }","});","","Y.namespace('Editor').Style = EditorStyle;","","}());","","","}, '@VERSION@', {","    \"requires\": [","        \"gallery-sm-editor-base\",","        \"gallery-sm-editor-dom\",","        \"gallery-sm-editor-keys\",","        \"gallery-sm-editor-queue\",","        \"node-style\"","    ]","});","","}());"]};
}
var __cov_wmlF9lLOlWpDUCM9WemJFA = __coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js'];
__cov_wmlF9lLOlWpDUCM9WemJFA.s['1']++;YUI.add('gallery-sm-editor-style',function(Y,NAME){__cov_wmlF9lLOlWpDUCM9WemJFA.f['1']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['2']++;(function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['2']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['3']++;var doc=Y.config.doc,EDOM=Y.Editor.DOM,STYLENODE='<span></span>';__cov_wmlF9lLOlWpDUCM9WemJFA.s['4']++;var EditorStyle=Y.Base.create('editorStyle',Y.Base,[],{styleCommands:{bold:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontWeight',value:'bold'}},fontName:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontFamily'}},fontSize:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontSize'}},italic:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontStyle',value:'italic'}},justifyCenter:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:'center'},type:'block'},justifyFull:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:'justify'},type:'block'},justifyLeft:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:''},type:'block'},justifyRight:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:'right'},type:'block'},strikeThrough:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textDecoration',value:'line-through'}},underline:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textDecoration',value:'underline'}}},styleKeyCommands:{'ctrl+b':'bold','ctrl+i':'italic','ctrl+u':'underline'},styleTags:'span',initializer:function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['3']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['5']++;this.commands=Y.merge(this.commands,this.styleCommands);__cov_wmlF9lLOlWpDUCM9WemJFA.s['6']++;if(this.supportedTags){__cov_wmlF9lLOlWpDUCM9WemJFA.b['1'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['7']++;this.supportedTags+=','+this.styleTags;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['1'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['8']++;this.supportedTags=this.styleTags;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['9']++;this.supportedStyles=[];__cov_wmlF9lLOlWpDUCM9WemJFA.s['10']++;Y.Object.each(this.styleCommands,function(cmd){__cov_wmlF9lLOlWpDUCM9WemJFA.f['4']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['11']++;this.supportedStyles.push(cmd.style.property);},this);__cov_wmlF9lLOlWpDUCM9WemJFA.s['12']++;if(this.keyCommands){__cov_wmlF9lLOlWpDUCM9WemJFA.b['2'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['13']++;this.keyCommands=Y.merge(this.keyCommands,this.styleKeyCommands);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['2'][1]++;}},styles:function(styles){__cov_wmlF9lLOlWpDUCM9WemJFA.f['5']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['14']++;var results={},name;__cov_wmlF9lLOlWpDUCM9WemJFA.s['15']++;if(styles){__cov_wmlF9lLOlWpDUCM9WemJFA.b['3'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['16']++;for(name in styles){__cov_wmlF9lLOlWpDUCM9WemJFA.s['17']++;if(styles.hasOwnProperty(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['4'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['18']++;results[name]=this.command(name,styles[name]);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['4'][1]++;}}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['3'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['19']++;var commands=this.styleCommands;__cov_wmlF9lLOlWpDUCM9WemJFA.s['20']++;for(name in commands){__cov_wmlF9lLOlWpDUCM9WemJFA.s['21']++;if(commands.hasOwnProperty(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['5'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['22']++;results[name]=this.query(name);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['5'][1]++;}}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['23']++;return results;},_execStyleCommand:function(name,value){__cov_wmlF9lLOlWpDUCM9WemJFA.f['6']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['24']++;var command=this.commands[name],range=this.selection.range(),styleNodes,style;__cov_wmlF9lLOlWpDUCM9WemJFA.s['25']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][0]++,!range)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][1]++,!command)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][2]++,!command.style)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['6'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['26']++;return;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['6'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['27']++;if('block'===command.type){__cov_wmlF9lLOlWpDUCM9WemJFA.b['8'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['28']++;styleNodes=this._getNodes(range,this.blockTags);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['8'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['29']++;styleNodes=this._getStyleNodes(range);}__cov_wmlF9lLOlWpDUCM9WemJFA.s['30']++;style=styleNodes.item(0)._node.style[command.style.property];__cov_wmlF9lLOlWpDUCM9WemJFA.s['31']++;if(Y.Lang.isValue(command.style.value)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['9'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['32']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['11'][0]++,style)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['11'][1]++,style===command.style.value)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['10'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['33']++;style='';}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['10'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['34']++;style=command.style.value;}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['9'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['35']++;if(value){__cov_wmlF9lLOlWpDUCM9WemJFA.b['12'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['36']++;style=(__cov_wmlF9lLOlWpDUCM9WemJFA.b['13'][0]++,command.style.value)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['13'][1]++,value);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['12'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['37']++;style='';}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['38']++;styleNodes.setStyle(command.style.property,style);__cov_wmlF9lLOlWpDUCM9WemJFA.s['39']++;if('block'!==command.type){__cov_wmlF9lLOlWpDUCM9WemJFA.b['14'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['40']++;range.startNode(styleNodes.item(0));__cov_wmlF9lLOlWpDUCM9WemJFA.s['41']++;range.endNode(styleNodes.item(styleNodes.size()-1),'after');__cov_wmlF9lLOlWpDUCM9WemJFA.s['42']++;this.selection.select(range.shrink());}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['14'][1]++;}},_formatHTML:function(html){__cov_wmlF9lLOlWpDUCM9WemJFA.f['7']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['43']++;function flatten(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['8']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['44']++;var childNodes=node.get('childNodes')._nodes;__cov_wmlF9lLOlWpDUCM9WemJFA.s['45']++;Y.Array.each(childNodes.reverse(),function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['9']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['46']++;var parentNode;__cov_wmlF9lLOlWpDUCM9WemJFA.s['47']++;node=Y.one(node);__cov_wmlF9lLOlWpDUCM9WemJFA.s['48']++;parentNode=node.get('parentNode');__cov_wmlF9lLOlWpDUCM9WemJFA.s['49']++;if(EDOM.isTextNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['15'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['50']++;if(this._isBlockNode(parentNode)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['16'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['51']++;node.wrap(STYLENODE);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['16'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['52']++;if(node.get('previousSibling')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['17'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['53']++;EDOM.split(parentNode,node);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['17'][1]++;}}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['15'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['54']++;if(!node.test(this.supportedTags)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['18'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['55']++;node.replace(node.get('text'));}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['18'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['56']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['20'][0]++,!this._isBlockNode(parentNode))&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['20'][1]++,!parentNode.test('a'))){__cov_wmlF9lLOlWpDUCM9WemJFA.b['19'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['57']++;parentNode.insert(node,'after');__cov_wmlF9lLOlWpDUCM9WemJFA.s['58']++;if(!this._isBlockNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['21'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['59']++;node.addClass(parentNode.get('className'));__cov_wmlF9lLOlWpDUCM9WemJFA.s['60']++;EDOM.copyStyles(parentNode,node,this.supportedStyles,{explicit:true,overwrite:false});}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['21'][1]++;}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['19'][1]++;}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['61']++;flatten.call(this,node);__cov_wmlF9lLOlWpDUCM9WemJFA.s['62']++;if(EDOM.isEmptyNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['22'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['63']++;node.remove(true);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['22'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['64']++;node.removeAttribute('id');}},this);}__cov_wmlF9lLOlWpDUCM9WemJFA.s['65']++;var frag=Y.one(doc.createDocumentFragment()).setHTML(html);__cov_wmlF9lLOlWpDUCM9WemJFA.s['66']++;flatten.call(this,frag);__cov_wmlF9lLOlWpDUCM9WemJFA.s['67']++;return frag;},_getHTML:function(value){__cov_wmlF9lLOlWpDUCM9WemJFA.f['10']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['68']++;value=Y.Editor.Base.prototype._getHTML.call(this,value);__cov_wmlF9lLOlWpDUCM9WemJFA.s['69']++;return this.get('formatFn')(value).getHTML();},_getStyleNodes:function(range){__cov_wmlF9lLOlWpDUCM9WemJFA.f['11']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['70']++;var styleNode,styleNodes=[];__cov_wmlF9lLOlWpDUCM9WemJFA.s['71']++;range.shrink();__cov_wmlF9lLOlWpDUCM9WemJFA.s['72']++;styleNode=range.parentNode().ancestor(this.styleTags,true,this.selectors.input);__cov_wmlF9lLOlWpDUCM9WemJFA.s['73']++;if(styleNode){__cov_wmlF9lLOlWpDUCM9WemJFA.b['23'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['74']++;if(range.toString()===styleNode.get('text')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['24'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['75']++;return new Y.NodeList([styleNode]);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['24'][1]++;}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['23'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['76']++;styleNode=Y.Node.create(STYLENODE);}__cov_wmlF9lLOlWpDUCM9WemJFA.s['77']++;var startNode=range.startNode(),startOffset=range.startOffset(),endNode=range.endNode(),endOffset=range.endOffset();__cov_wmlF9lLOlWpDUCM9WemJFA.s['78']++;range.traverse(function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['12']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['79']++;if(!EDOM.isTextNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['25'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['80']++;return;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['25'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['81']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['27'][0]++,endNode===node)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['27'][1]++,endOffset!==EDOM.maxOffset(endNode))){__cov_wmlF9lLOlWpDUCM9WemJFA.b['26'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['82']++;node=EDOM.split(node,endOffset).get('previousSibling');}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['26'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['83']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['29'][0]++,startNode===node)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['29'][1]++,startOffset)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['28'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['84']++;node=EDOM.split(node,startOffset);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['28'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['85']++;if(this._isStyleNode(node.get('parentNode'))){__cov_wmlF9lLOlWpDUCM9WemJFA.b['30'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['86']++;if(node.get('nextSibling')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['31'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['87']++;EDOM.split(node.get('parentNode'),node.get('nextSibling'));}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['31'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['88']++;if(node.get('previousSibling')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['32'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['89']++;EDOM.split(node.get('parentNode'),node);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['32'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['90']++;styleNodes.push(node.get('parentNode'));}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['30'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['91']++;styleNodes.push(node.wrap(styleNode).get('parentNode'));}},this);__cov_wmlF9lLOlWpDUCM9WemJFA.s['92']++;return new Y.NodeList(styleNodes);},_isBlockNode:function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['13']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['93']++;node=Y.one(node);__cov_wmlF9lLOlWpDUCM9WemJFA.s['94']++;return(__cov_wmlF9lLOlWpDUCM9WemJFA.b['33'][0]++,!EDOM.isTextNode(node))&&((__cov_wmlF9lLOlWpDUCM9WemJFA.b['33'][1]++,node.get('nodeName')==='#document-fragment')||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['33'][2]++,node.test(this.blockTags)));},_isStyleNode:function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['14']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['95']++;node=Y.one(node);__cov_wmlF9lLOlWpDUCM9WemJFA.s['96']++;return(__cov_wmlF9lLOlWpDUCM9WemJFA.b['34'][0]++,node)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['34'][1]++,!EDOM.isTextNode(node))&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['34'][2]++,node.test(this.styleTags));},_setHTML:function(value){__cov_wmlF9lLOlWpDUCM9WemJFA.f['15']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['97']++;value=this.get('formatFn')(value).getHTML();__cov_wmlF9lLOlWpDUCM9WemJFA.s['98']++;return Y.Editor.Base.prototype._setHTML.call(this,value);},_queryStyleCommand:function(name){__cov_wmlF9lLOlWpDUCM9WemJFA.f['16']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['99']++;var command=this.commands[name],range=this.selection.range().clone(),selector='span',values=[],value;__cov_wmlF9lLOlWpDUCM9WemJFA.s['100']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['36'][0]++,range)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['36'][1]++,command.style)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['35'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['101']++;if('block'===command.type){__cov_wmlF9lLOlWpDUCM9WemJFA.b['37'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['102']++;selector=this.blockTags;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['37'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['103']++;this._getNodes(range,selector).each(function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['17']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['104']++;var value;__cov_wmlF9lLOlWpDUCM9WemJFA.s['105']++;if(command.style.computed){__cov_wmlF9lLOlWpDUCM9WemJFA.b['38'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['106']++;value=node.getStyle(command.style.property);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['38'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['107']++;value=node._node.style[command.style.property];}__cov_wmlF9lLOlWpDUCM9WemJFA.s['108']++;values.push((__cov_wmlF9lLOlWpDUCM9WemJFA.b['39'][0]++,value)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['39'][1]++,''));});__cov_wmlF9lLOlWpDUCM9WemJFA.s['109']++;values=Y.Array.dedupe(values);__cov_wmlF9lLOlWpDUCM9WemJFA.s['110']++;if(1===values.length){__cov_wmlF9lLOlWpDUCM9WemJFA.b['40'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['111']++;value=values[0];}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['40'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['112']++;if(Y.Lang.isValue(command.style.value)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['41'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['113']++;value=value==command.style.value;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['41'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['114']++;if(''===value){__cov_wmlF9lLOlWpDUCM9WemJFA.b['42'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['115']++;value=null;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['42'][1]++;}}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['35'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['116']++;return value;}},{ATTRS:{formatFn:{readOnly:true,setter:function(val){__cov_wmlF9lLOlWpDUCM9WemJFA.f['18']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['117']++;return Y.bind(val,this);},validator:Y.Lang.isFunction,valueFn:function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['19']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['118']++;return this._formatHTML;}}}});__cov_wmlF9lLOlWpDUCM9WemJFA.s['119']++;Y.namespace('Editor').Style=EditorStyle;}());},'@VERSION@',{'requires':['gallery-sm-editor-base','gallery-sm-editor-dom','gallery-sm-editor-keys','gallery-sm-editor-queue','node-style']});
